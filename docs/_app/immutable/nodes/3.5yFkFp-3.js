import{a as A,t as z,c as Ae}from"../chunks/disclose-version.DrqLgsy6.js";import{M as ke,m as Re,R as xe,v as M,C as ne,D as Me,y as ze,l as De,K as be,S as He,T as he,B as le,w as P,F as $e,U as Te,n as Ne,V as Le,W as me,X as Ye,N as pe,Y as ue,Q as p,Z as ce,_ as Fe,P as Je,$ as ye,a0 as Ue,J as Ve,a1 as qe,q as Be,a2 as Pe,z as We,p as Xe,a3 as W,a as Ke,f as oe,s as k,h as u,t as V,c as $,r as R}from"../chunks/runtime.CYuBARcl.js";import{s as X}from"../chunks/render.DGtDBWun.js";import{p as g,o as Qe,i as G}from"../chunks/index-client.xqCyz3X0.js";import{d as Ze}from"../chunks/events.BZuoxORW.js";import{s as Oe,a as je,p as Ge}from"../chunks/stores.DLYuZi7P.js";let se=null;function ie(n,t){return t}function et(n,t,a,o){for(var d=[],v=t.length,i=0;i<v;i++)Ue(t[i].e,d,!0);var T=v>0&&d.length===0&&a!==null;if(T){var y=a.parentNode;Ve(y),y.append(a),o.clear(),H(n,t[0].prev,t[v-1].next)}qe(d,()=>{for(var S=0;S<v;S++){var h=t[S];T||(o.delete(h.k),H(n,h.prev,h.next)),Be(h.e,!T)}})}function fe(n,t,a,o,d,v=null){var i=n,T={flags:t,items:new Map,first:null},y=(t&xe)!==0;if(y){var S=n;i=M?ne(ze(S)):S.appendChild(ke())}M&&Me();var h=null;Re(()=>{var l=a(),m=De(l)?l:l==null?[]:be(l),s=m.length;let c=!1;if(M){var x=i.data===He;x!==(s===0)&&(i=he(),ne(i),le(!1),c=!0)}if(M){for(var E=null,I,b=0;b<s;b++){if(P.nodeType===8&&P.data===$e){i=P,c=!0,le(!1);break}var f=m[b],_=o(f,b);I=Ee(P,T,E,null,f,_,b,d,t),T.items.set(_,I),E=I}s>0&&ne(he())}M||tt(m,T,i,d,t,o),v!==null&&(s===0?h?Te(h):h=Ne(()=>v(i)):h!==null&&Le(h,()=>{h=null})),c&&le(!0)}),M&&(i=P)}function tt(n,t,a,o,d,v){var Q,Z,O,J;var i=(d&Pe)!==0,T=(d&(ue|ce))!==0,y=n.length,S=t.items,h=t.first,l=h,m,s=null,c,x=[],E=[],I,b,f,_;if(i)for(_=0;_<y;_+=1)I=n[_],b=v(I,_),f=S.get(b),f!==void 0&&((Q=f.a)==null||Q.measure(),(c??(c=new Set)).add(f));for(_=0;_<y;_+=1){if(I=n[_],b=v(I,_),f=S.get(b),f===void 0){var ee=l?l.e.nodes_start:a;s=Ee(ee,t,s,s===null?t.first:s.next,I,b,_,o,d),S.set(b,s),x=[],E=[],l=s.next;continue}if(T&&at(f,I,_,d),f.e.f&me&&(Te(f.e),i&&((Z=f.a)==null||Z.unfix(),(c??(c=new Set)).delete(f))),f!==l){if(m!==void 0&&m.has(f)){if(x.length<E.length){var L=E[0],C;s=L.prev;var K=x[0],Y=x[x.length-1];for(C=0;C<x.length;C+=1)Se(x[C],L,a);for(C=0;C<E.length;C+=1)m.delete(E[C]);H(t,K.prev,Y.next),H(t,s,K),H(t,Y,L),l=L,s=Y,_-=1,x=[],E=[]}else m.delete(f),Se(f,l,a),H(t,f.prev,f.next),H(t,f,s===null?t.first:s.next),H(t,s,f),s=f;continue}for(x=[],E=[];l!==null&&l.k!==b;)l.e.f&me||(m??(m=new Set)).add(l),E.push(l),l=l.next;if(l===null)continue;f=l}x.push(f),s=f,l=f.next}if(l!==null||m!==void 0){for(var D=m===void 0?[]:be(m);l!==null;)D.push(l),l=l.next;var F=D.length;if(F>0){var te=d&xe&&y===0?a:null;if(i){for(_=0;_<F;_+=1)(O=D[_].a)==null||O.measure();for(_=0;_<F;_+=1)(J=D[_].a)==null||J.fix()}et(t,D,te,S)}}i&&Ye(()=>{var q;if(c!==void 0)for(f of c)(q=f.a)==null||q.apply()}),pe.first=t.first&&t.first.e,pe.last=s&&s.e}function at(n,t,a,o){o&ue&&p(n.v,t),o&ce?p(n.i,a):n.i=a}function Ee(n,t,a,o,d,v,i,T,y){var S=se;try{var h=(y&ue)!==0,l=(y&Fe)===0,m=h?l?Je(d):ye(d):d,s=y&ce?ye(i):i,c={i:s,v:m,k:v,a:null,e:null,prev:a,next:o};return se=c,c.e=Ne(()=>T(n,m,s),M),c.e.prev=a&&a.e,c.e.next=o&&o.e,a===null?t.first=c:(a.next=c,a.e.next=c.e),o!==null&&(o.prev=c,o.e.prev=c.e),c}finally{se=S}}function Se(n,t,a){for(var o=n.next?n.next.e.nodes_start:a,d=t?t.e.nodes_start:a,v=n.e.nodes_start;v!==o;){var i=We(v);d.before(v),v=i}}function H(n,t,a){t===null?n.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function rt(n,t){var a=n.__className,o=nt(t);M&&n.className===o?n.__className=o:(a!==o||M&&n.className!==o)&&(t==null?n.removeAttribute("class"):n.className=o,n.__className=o)}function nt(n){return n??""}function lt(n,t,a,o,d,v,i,T){p(t,g([...u(t),u(a)]));let y=new Set(u(a)),S=new Set(o().category1.items),h=new Set(o().category2.items),l=new Set(o().category3.items),m=new Set(o().category4.items);d(y,S)?(p(v,g([...u(v),o().category1.name])),p(i,g(u(i).filter(s=>!S.has(s)))),p(a,g([]))):d(y,h)?(p(v,g([...u(v),o().category2.name])),p(i,g(u(i).filter(s=>!h.has(s)))),p(a,g([]))):d(y,l)?(p(v,g([...u(v),o().category3.name])),p(i,g(u(i).filter(s=>!l.has(s)))),p(a,g([]))):d(y,m)?(p(v,g([...u(v),o().category4.name])),p(i,g(u(i).filter(s=>!m.has(s)))),p(a,g([]))):p(T,g([...u(T),u(a)]))}function ot(n,t){let a=t();navigator.clipboard.writeText(a.toString())}var st=z("<h3> </h3> <p> </p>",1),it=(n,t,a)=>t(u(a)),ft=z("<button> </button>"),ut=z("<p> </p>"),ct=z("<h1>You won!</h1>"),vt=z("<h1>You lost!</h1>"),_t=z("<button>Submit</button>"),dt=z("<br> <button>Shuffle</button> <br> <!> <p> </p>",1),gt=z("<button>Share</button>"),ht=z('<div class="root svelte-1odvu8z"><div class="container svelte-1odvu8z"><h1>More Connections!</h1> <div class="correct-guesses"></div> <div class="game-board svelte-1odvu8z"></div> <!> <!> <!></div></div>');function Tt(n,t){Xe(t,!0);const a=Oe(),o=()=>je(Ge,"$page",a);let d="Custom Connections!",v="ðŸŸ©",i="ðŸŸ¦",T="ðŸŸ¨",y="ðŸŸª",S=10,h=o().url.searchParams.get("game"),l=b(),m=W(g([])),s=W(g([])),c=W(g([])),x=W(g([])),E=W(g([]));function I(){let e=decodeURIComponent((h||"").toString());return atob(e).toString()}function b(){return JSON.parse(I().toString())}function f(){p(x,g(u(x).map(e=>({value:e,sort:Math.random()})).sort((e,r)=>e.sort-r.sort).map(({value:e})=>e)))}function _(e,r){return e.size===r.size&&[...e].every(N=>r.has(N))}function ee(){let e=b();console.log(JSON.stringify(e,null,4)),p(x,g([...e.category1.items,...e.category2.items,...e.category3.items,...e.category4.items])),f()}function L(e){console.log("clicked",e),u(c).includes(e)?p(c,g(u(c).filter(r=>r!==e))):u(c).length<4&&p(c,g([...u(c),e]))}function C(e){let r=l;return r.category1.name===e?r.category1.items:r.category2.name===e?r.category2.items:r.category3.name===e?r.category3.items:r.category4.name===e?r.category4.items:[]}function K(e){return u(c).includes(e)}function Y(){return S-u(s).length}function D(){return Y()<=0}function F(){return u(E).length===4}function te(){return d+`
`+u(m).map(e=>e.map(r=>Q(r)).join("")).join(`
`)}function Q(e){let r=O(e);return Z(r)}function Z(e){return e===l.category1.name?v:e===l.category2.name?i:e===l.category3.name?T:e===l.category4.name?y:""}function O(e){let r=l;return r.category1.items.includes(e)?r.category1.name:r.category2.items.includes(e)?r.category2.name:r.category3.items.includes(e)?r.category3.name:r.category4.items.includes(e)?r.category4.name:""}Qe(()=>{console.log(h),ee()});var J=ht(),q=$(J),ae=k($(q),2);fe(ae,21,()=>u(E),ie,(e,r)=>{var N=st(),w=oe(N),U=$(w);R(w);var B=k(w,2),j=$(B);V(()=>X(j,C(u(r)).join())),R(B),V(()=>X(U,u(r))),A(e,N)}),R(ae);var re=k(ae,2);fe(re,21,()=>u(x),ie,(e,r)=>{var N=ft();V(()=>rt(N,`game-item ${(K(u(r))?"selected":"")??""}  svelte-1odvu8z`)),N.__click=[it,L,r];var w=$(N);R(N),V(()=>X(w,u(r))),A(e,N)}),R(re);var ve=k(re,2);fe(ve,17,()=>u(c),ie,(e,r)=>{var N=ut(),w=$(N);R(N),V(()=>X(w,u(r))),A(e,N)});var _e=k(ve,2);G(_e,F,e=>{var r=ct();A(e,r)},e=>{var r=Ae(),N=oe(r);G(N,D,w=>{var U=vt();A(w,U)},w=>{var U=dt(),B=k(oe(U),2);B.__click=f;var j=k(B,4);G(j,()=>u(c).length===4,Ce=>{var ge=_t();ge.__click=[lt,m,c,b,_,E,x,s],A(Ce,ge)});var de=k(j,2),we=$(de);V(()=>X(we,`Remaining guesses: ${Y()??""}`)),R(de),A(w,U)},!0),A(e,r)});var Ie=k(_e,2);G(Ie,()=>F()||D(),e=>{var r=gt();r.__click=[ot,te],A(e,r)}),R(q),R(J),A(n,J),Ke()}Ze(["click"]);export{Tt as component};
