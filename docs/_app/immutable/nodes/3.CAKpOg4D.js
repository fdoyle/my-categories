import{a as A,t as H,c as ke}from"../chunks/disclose-version.DrqLgsy6.js";import{M as Re,m as ze,R as we,v as z,C as ne,D as Ye,y as De,l as He,K as xe,S as $e,T as he,B as se,w as W,F as Me,U as Te,n as Ne,V as Le,W as pe,X as Fe,N as ye,Y as ce,Q as g,Z as ve,_ as Je,P as Ue,$ as Se,a0 as Ve,J as qe,a1 as Be,q as Pe,a2 as We,z as Xe,p as Ke,a3 as U,a as Qe,f as oe,s as k,t as M,h as l,c as L,r as R}from"../chunks/runtime.CYuBARcl.js";import{s as X}from"../chunks/render.DGtDBWun.js";import{p as v,o as Ze,i as le}from"../chunks/index-client.xqCyz3X0.js";import{d as Oe}from"../chunks/events.BZuoxORW.js";import{s as je,a as Ge,p as et}from"../chunks/stores.CWarO4DF.js";let ie=null;function fe(s,t){return t}function tt(s,t,a,u){for(var h=[],_=t.length,f=0;f<_;f++)Ve(t[f].e,h,!0);var x=_>0&&h.length===0&&a!==null;if(x){var p=a.parentNode;qe(p),p.append(a),u.clear(),D(s,t[0].prev,t[_-1].next)}Be(h,()=>{for(var m=0;m<_;m++){var b=t[m];x||(u.delete(b.k),D(s,b.prev,b.next)),Pe(b.e,!x)}})}function ue(s,t,a,u,h,_=null){var f=s,x={flags:t,items:new Map,first:null},p=(t&we)!==0;if(p){var m=s;f=z?ne(De(m)):m.appendChild(Re())}z&&Ye();var b=null;ze(()=>{var n=a(),S=He(n)?n:n==null?[]:xe(n),c=S.length;let i=!1;if(z){var w=f.data===$e;w!==(c===0)&&(f=he(),ne(f),se(!1),i=!0)}if(z){for(var y=null,E,N=0;N<c;N++){if(W.nodeType===8&&W.data===Me){f=W,i=!0,se(!1);break}var o=S[N],d=u(o,N);E=Ee(W,x,y,null,o,d,N,h,t),x.items.set(d,E),y=E}c>0&&ne(he())}z||rt(S,x,f,h,t,u),_!==null&&(c===0?b?Te(b):b=Ne(()=>_(f)):b!==null&&Le(b,()=>{b=null})),i&&se(!0)}),z&&(f=W)}function rt(s,t,a,u,h,_){var B,P,O,j;var f=(h&We)!==0,x=(h&(ce|ve))!==0,p=s.length,m=t.items,b=t.first,n=b,S,c=null,i,w=[],y=[],E,N,o,d;if(f)for(d=0;d<p;d+=1)E=s[d],N=_(E,d),o=m.get(N),o!==void 0&&((B=o.a)==null||B.measure(),(i??(i=new Set)).add(o));for(d=0;d<p;d+=1){if(E=s[d],N=_(E,d),o=m.get(N),o===void 0){var K=n?n.e.nodes_start:a;c=Ee(K,t,c,c===null?t.first:c.next,E,N,d,u,h),m.set(N,c),w=[],y=[],n=c.next;continue}if(x&&at(o,E,d,h),o.e.f&pe&&(Te(o.e),f&&((P=o.a)==null||P.unfix(),(i??(i=new Set)).delete(o))),o!==n){if(S!==void 0&&S.has(o)){if(w.length<y.length){var F=y[0],C;c=F.prev;var Q=w[0],V=w[w.length-1];for(C=0;C<w.length;C+=1)be(w[C],F,a);for(C=0;C<y.length;C+=1)S.delete(y[C]);D(t,Q.prev,V.next),D(t,c,Q),D(t,V,F),n=F,c=V,d-=1,w=[],y=[]}else S.delete(o),be(o,n,a),D(t,o.prev,o.next),D(t,o,c===null?t.first:c.next),D(t,c,o),c=o;continue}for(w=[],y=[];n!==null&&n.k!==N;)n.e.f&pe||(S??(S=new Set)).add(n),y.push(n),n=n.next;if(n===null)continue;o=n}w.push(o),c=o,n=o.next}if(n!==null||S!==void 0){for(var $=S===void 0?[]:xe(S);n!==null;)$.push(n),n=n.next;var q=$.length;if(q>0){var Z=h&we&&p===0?a:null;if(f){for(d=0;d<q;d+=1)(O=$[d].a)==null||O.measure();for(d=0;d<q;d+=1)(j=$[d].a)==null||j.fix()}tt(t,$,Z,m)}}f&&Fe(()=>{var G;if(i!==void 0)for(o of i)(G=o.a)==null||G.apply()}),ye.first=t.first&&t.first.e,ye.last=c&&c.e}function at(s,t,a,u){u&ce&&g(s.v,t),u&ve?g(s.i,a):s.i=a}function Ee(s,t,a,u,h,_,f,x,p){var m=ie;try{var b=(p&ce)!==0,n=(p&Je)===0,S=b?n?Ue(h):Se(h):h,c=p&ve?Se(f):f,i={i:c,v:S,k:_,a:null,e:null,prev:a,next:u};return ie=i,i.e=Ne(()=>x(s,S,c),z),i.e.prev=a&&a.e,i.e.next=u&&u.e,a===null?t.first=i:(a.next=i,a.e.next=i.e),u!==null&&(u.prev=i,u.e.prev=i.e),i}finally{ie=m}}function be(s,t,a){for(var u=s.next?s.next.e.nodes_start:a,h=t?t.e.nodes_start:a,_=s.e.nodes_start;_!==u;){var f=Xe(_);h.before(_),_=f}}function D(s,t,a){t===null?s.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function nt(s,t){var a=s.__className,u=st(t);z&&s.className===u?s.__className=u:(a!==u||z&&s.className!==u)&&(t==null?s.removeAttribute("class"):s.className=u,s.__className=u)}function st(s){return s??""}function ot(s,t,a,u,h,_,f,x,p,m,b){if(g(t,v([])),a()){g(t,v(["You've already guessed this combination!"])),u()&&g(t,v([...l(t),"You're one away from a correct guess!"]));return}g(h,v([...l(h),l(_)]));let n=new Set(l(_)),S=new Set(f().category1.items),c=new Set(f().category2.items),i=new Set(f().category3.items),w=new Set(f().category4.items);x(n,S)?(g(p,v([...l(p),f().category1.name])),g(m,v(l(m).filter(y=>!S.has(y)))),g(_,v([]))):x(n,c)?(g(p,v([...l(p),f().category2.name])),g(m,v(l(m).filter(y=>!c.has(y)))),g(_,v([]))):x(n,i)?(g(p,v([...l(p),f().category3.name])),g(m,v(l(m).filter(y=>!i.has(y)))),g(_,v([]))):x(n,w)?(g(p,v([...l(p),f().category4.name])),g(m,v(l(m).filter(y=>!w.has(y)))),g(_,v([]))):(g(b,v([...l(b),l(_)])),u()&&g(t,v([...l(t),"You're one away from a correct guess!"])))}function lt(s,t){let a=t();navigator.clipboard.writeText(a.toString())}var it=H("<h3> </h3> <p> </p>",1),ft=(s,t,a)=>t(l(a)),ut=H("<button> </button>"),ct=H("<p> </p>"),vt=H("<h1>You won!</h1>"),_t=H("<h1>You lost!</h1>"),dt=H("<br> <button>Submit</button> <br> <button>Shuffle</button> <p> </p>",1),gt=H("<button>Share</button>"),mt=H('<div class="root svelte-1odvu8z"><div class="container svelte-1odvu8z"><h1>More Connections!</h1> <div class="correct-guesses"></div> <div class="game-board svelte-1odvu8z"></div> <!> <!> <!></div></div>');function xt(s,t){Ke(t,!0);const a=je(),u=()=>Ge(et,"$page",a);let h="Custom Connections!",_="ðŸŸ©",f="ðŸŸ¦",x="ðŸŸ¨",p="ðŸŸª",m=10,b=u().url.searchParams.get("game"),n=o(),S=U(v([])),c=U(v([])),i=U(v([])),w=U(v([])),y=U(v([])),E=U(v([]));function N(){let e=decodeURIComponent((b||"").toString());return atob(e).toString()}function o(){return JSON.parse(N().toString())}function d(){g(w,v(l(w).map(e=>({value:e,sort:Math.random()})).sort((e,r)=>e.sort-r.sort).map(({value:e})=>e)))}function K(e,r){return e.size===r.size&&[...e].every(T=>r.has(T))}function F(){let e=new Set(l(i));return l(S).some(r=>K(new Set(r),e))}function C(){let e=o();console.log(JSON.stringify(e,null,4)),g(w,v([...e.category1.items,...e.category2.items,...e.category3.items,...e.category4.items])),d()}function Q(e){g(E,v([])),l(i).includes(e)?g(i,v(l(i).filter(r=>r!==e))):l(i).length<4&&g(i,v([...l(i),e]))}function V(){let e=new Set(l(i)),r=new Set(o().category1.items),T=new Set(o().category2.items),I=new Set(o().category3.items),Y=new Set(o().category4.items);return e.difference(r).size===1||e.difference(T).size===1||e.difference(I).size===1||e.difference(Y).size===1}function $(e){let r=n;return r.category1.name===e?r.category1.items:r.category2.name===e?r.category2.items:r.category3.name===e?r.category3.items:r.category4.name===e?r.category4.items:[]}function q(e){return l(i).includes(e)}function Z(){return m-l(c).length}function B(){return Z()<=0}function P(){return l(y).length===4}function O(){return h+`
`+l(S).map(e=>e.map(r=>j(r)).join("")).join(`
`)}function j(e){let r=Ie(e);return G(r)}function G(e){return e===n.category1.name?x:e===n.category2.name?_:e===n.category3.name?f:e===n.category4.name?p:""}function Ie(e){let r=n;return r.category1.items.includes(e)?r.category1.name:r.category2.items.includes(e)?r.category2.name:r.category3.items.includes(e)?r.category3.name:r.category4.items.includes(e)?r.category4.name:""}Ze(()=>{console.log(b),C()});var te=mt(),_e=L(te),re=k(L(_e),2);ue(re,21,()=>l(y),fe,(e,r)=>{var T=it(),I=oe(T),Y=L(I);R(I);var J=k(I,2),ee=L(J);M(()=>X(ee,$(l(r)).join(", "))),R(J),M(()=>X(Y,l(r))),A(e,T)}),R(re);var ae=k(re,2);ue(ae,21,()=>l(w),fe,(e,r)=>{var T=ut();M(()=>nt(T,`game-item ${(q(l(r))?"selected":"")??""}  svelte-1odvu8z`)),T.__click=[ft,Q,r];var I=L(T);R(T),M(()=>X(I,l(r))),A(e,T)}),R(ae);var de=k(ae,2);ue(de,17,()=>l(E),fe,(e,r)=>{var T=ct(),I=L(T);R(T),M(()=>X(I,l(r))),A(e,T)});var ge=k(de,2);le(ge,P,e=>{var r=vt();A(e,r)},e=>{var r=ke(),T=oe(r);le(T,B,I=>{var Y=_t();A(I,Y)},I=>{var Y=dt(),J=k(oe(Y),2);J.__click=[ot,E,F,V,S,i,o,K,y,w,c];var ee=k(J,4);ee.__click=d;var me=k(ee,2),Ae=L(me);M(()=>X(Ae,`Remaining guesses: ${Z()??""}`)),R(me),M(()=>J.disabled=l(i).length!==4),A(I,Y)},!0),A(e,r)});var Ce=k(ge,2);le(Ce,()=>P()||B(),e=>{var r=gt();r.__click=[lt,O],A(e,r)}),R(_e),R(te),A(s,te),Qe()}Oe(["click"]);export{xt as component};
