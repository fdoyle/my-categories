import{a as k,t as R,c as Ye}from"../chunks/disclose-version.yRlmdPKA.js";import{F as $e,O as Le,I as z,w as ne,x as Fe,P as Te,n as Ue,l as Je,D as Ie,Q as Ve,R as ye,v as se,y as B,z as Pe,S as Ne,G as Ce,T as We,U as Se,V as Xe,J as be,W as ce,N as h,X as ve,Y as qe,M as Be,Z as xe,_ as Qe,C as Ze,$ as Ke,a0 as Oe,a1 as Ge,o as je,p as et,a2 as F,a as tt,s as C,f as le,t as Q,h as l,c as J,r as H}from"../chunks/runtime.Da5bYiJB.js";import{s as fe}from"../chunks/render.BscORwDj.js";import{p as y,o as at,i as Z}from"../chunks/index-client.B1LqBdY0.js";import{d as rt}from"../chunks/events.Deopr2u8.js";import{s as nt,a as st,p as lt}from"../chunks/stores.1rNVqu8T.js";let oe=null;function ie(s,t){return t}function ft(s,t,r,u){for(var m=[],S=t.length,o=0;o<S;o++)Qe(t[o].e,m,!0);var b=S>0&&m.length===0&&r!==null;if(b){var T=r.parentNode;Ze(T),T.append(r),u.clear(),Y(s,t[0].prev,t[S-1].next)}Ke(m,()=>{for(var g=0;g<S;g++){var c=t[g];b||(u.delete(c.k),Y(s,c.prev,c.next)),Oe(c.e,!b)}})}function ue(s,t,r,u,m,S=null){var o=s,b={flags:t,items:new Map,first:null},T=(t&Te)!==0;if(T){var g=s;o=z?ne(Ue(g)):g.appendChild($e())}z&&Fe();var c=null;Le(()=>{var n=r(),p=Je(n)?n:n==null?[]:Ie(n),i=p.length;let d=!1;if(z){var v=o.data===Ve;v!==(i===0)&&(o=ye(),ne(o),se(!1),d=!0)}if(z){for(var w=null,x,I=0;I<i;I++){if(B.nodeType===8&&B.data===Pe){o=B,d=!0,se(!1);break}var f=p[I],_=u(f,I);x=Ee(B,b,w,null,f,_,I,m,t),b.items.set(_,x),w=x}i>0&&ne(ye())}z||ot(p,b,o,m,t,u),S!==null&&(i===0?c?Ne(c):c=Ce(()=>S(o)):c!==null&&We(c,()=>{c=null})),d&&se(!0)}),z&&(o=B)}function ot(s,t,r,u,m,S){var O,W,X,q;var o=(m&Ge)!==0,b=(m&(ce|ve))!==0,T=s.length,g=t.items,c=t.first,n=c,p,i=null,d,v=[],w=[],x,I,f,_;if(o)for(_=0;_<T;_+=1)x=s[_],I=S(x,_),f=g.get(I),f!==void 0&&((O=f.a)==null||O.measure(),(d??(d=new Set)).add(f));for(_=0;_<T;_+=1){if(x=s[_],I=S(x,_),f=g.get(I),f===void 0){var M=n?n.e.nodes_start:r;i=Ee(M,t,i,i===null?t.first:i.next,x,I,_,u,m),g.set(I,i),v=[],w=[],n=i.next;continue}if(b&&it(f,x,_,m),f.e.f&Se&&(Ne(f.e),o&&((W=f.a)==null||W.unfix(),(d??(d=new Set)).delete(f))),f!==n){if(p!==void 0&&p.has(f)){if(v.length<w.length){var $=w[0],E;i=$.prev;var K=v[0],V=v[v.length-1];for(E=0;E<v.length;E+=1)we(v[E],$,r);for(E=0;E<w.length;E+=1)p.delete(w[E]);Y(t,K.prev,V.next),Y(t,i,K),Y(t,V,$),n=$,i=V,_-=1,v=[],w=[]}else p.delete(f),we(f,n,r),Y(t,f.prev,f.next),Y(t,f,i===null?t.first:i.next),Y(t,i,f),i=f;continue}for(v=[],w=[];n!==null&&n.k!==I;)n.e.f&Se||(p??(p=new Set)).add(n),w.push(n),n=n.next;if(n===null)continue;f=n}v.push(f),i=f,n=f.next}if(n!==null||p!==void 0){for(var L=p===void 0?[]:Ie(p);n!==null;)L.push(n),n=n.next;var P=L.length;if(P>0){var ee=m&Te&&T===0?r:null;if(o){for(_=0;_<P;_+=1)(X=L[_].a)==null||X.measure();for(_=0;_<P;_+=1)(q=L[_].a)==null||q.fix()}ft(t,L,ee,g)}}o&&Xe(()=>{var G;if(d!==void 0)for(f of d)(G=f.a)==null||G.apply()}),be.first=t.first&&t.first.e,be.last=i&&i.e}function it(s,t,r,u){u&ce&&h(s.v,t),u&ve?h(s.i,r):s.i=r}function Ee(s,t,r,u,m,S,o,b,T){var g=oe;try{var c=(T&ce)!==0,n=(T&qe)===0,p=c?n?Be(m):xe(m):m,i=T&ve?xe(o):o,d={i,v:p,k:S,a:null,e:null,prev:r,next:u};return oe=d,d.e=Ce(()=>b(s,p,i),z),d.e.prev=r&&r.e,d.e.next=u&&u.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),u!==null&&(u.prev=d,u.e.prev=d.e),d}finally{oe=g}}function we(s,t,r){for(var u=s.next?s.next.e.nodes_start:r,m=t?t.e.nodes_start:r,S=s.e.nodes_start;S!==u;){var o=je(S);m.before(S),S=o}}function Y(s,t,r){t===null?s.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ut(s,t){var r=s.__className,u=ct(t);z&&s.className===u?s.__className=u:(r!==u||z&&s.className!==u)&&(t==null?s.removeAttribute("class"):s.className=u,s.__className=u)}function ct(s){return s??""}function vt(s,t,r,u,m,S,o,b,T,g,c,n){if(h(t,!1),h(r,!1),u()){h(t,!0),m()&&h(r,!0);return}h(S,y([...l(S),l(o)]));let p=new Set(l(o)),i=new Set(b().category1.items),d=new Set(b().category2.items),v=new Set(b().category3.items),w=new Set(b().category4.items);T(p,i)?(h(g,y([...l(g),b().category1.name])),h(c,y(l(c).filter(x=>!i.has(x)))),h(o,y([]))):T(p,d)?(h(g,y([...l(g),b().category2.name])),h(c,y(l(c).filter(x=>!d.has(x)))),h(o,y([]))):T(p,v)?(h(g,y([...l(g),b().category3.name])),h(c,y(l(c).filter(x=>!v.has(x)))),h(o,y([]))):T(p,w)?(h(g,y([...l(g),b().category4.name])),h(c,y(l(c).filter(x=>!w.has(x)))),h(o,y([]))):(h(n,y([...l(n),l(o)])),m()&&h(r,!0))}function ht(s,t){let r=t();navigator.clipboard.writeText(r.toString())}var _t=R('<h3 class="svelte-4ff3hh"> </h3> <p class="svelte-4ff3hh"> </p>',1),dt=(s,t,r)=>t(l(r)),gt=R("<button> </button>"),mt=R(`<p class="svelte-4ff3hh">You've already guessed this combination!</p>`),pt=R('<p class="svelte-4ff3hh">You are one away...</p>'),yt=R('<h1 class="svelte-4ff3hh">You won!</h1>'),St=R('<h1 class="svelte-4ff3hh">You lost!</h1>'),bt=R('<div class="guess-dot svelte-4ff3hh"></div>'),xt=R('<br class="svelte-4ff3hh"> <button class="button svelte-4ff3hh">Submit</button> <br class="svelte-4ff3hh"> <button class="button svelte-4ff3hh">Shuffle</button> <br class="svelte-4ff3hh"> <div class="remaining-guess-count-container svelte-4ff3hh"><p class="svelte-4ff3hh">Remaining guesses:</p> <!></div>',1),wt=R('<button class="button svelte-4ff3hh">Share</button>'),Tt=R('<div class="root svelte-4ff3hh"><div class="container svelte-4ff3hh"><h2 class="svelte-4ff3hh">More Connections!</h2> <h1 class="svelte-4ff3hh"></h1> <br class="svelte-4ff3hh"> <div class="correct-guesses svelte-4ff3hh"></div> <div class="game-board svelte-4ff3hh"></div> <!> <!> <!> <!></div></div>');function Mt(s,t){et(t,!0);const r=nt(),u=()=>st(lt,"$page",r);let m="Custom Connections!",S="ðŸŸ©",o="ðŸŸ¦",b="ðŸŸ¨",T="ðŸŸª",g=10,c=u().url.searchParams.get("game"),n=M(),p=n.title||"Untitled",i=F(y([])),d=F(y([])),v=F(y([])),w=F(y([])),x=F(y([])),I=F(!1),f=F(!1);function _(){let e=decodeURIComponent((c||"").toString());return atob(e).toString()}function M(){return JSON.parse(_().toString())}function $(){h(w,y(l(w).map(e=>({value:e,sort:Math.random()})).sort((e,a)=>e.sort-a.sort).map(({value:e})=>e)))}function E(e,a){return e.size===a.size&&[...e].every(N=>a.has(N))}function K(){let e=new Set(l(v));return l(i).some(a=>E(new Set(a),e))}function V(){let e=M();console.log(JSON.stringify(e,null,4)),h(w,y([...e.category1.items,...e.category2.items,...e.category3.items,...e.category4.items])),$()}function L(e){h(I,!1),h(f,!1),l(v).includes(e)?h(v,y(l(v).filter(a=>a!==e))):l(v).length<4&&h(v,y([...l(v),e]))}function P(){let e=new Set(l(v)),a=new Set(M().category1.items),N=new Set(M().category2.items),A=new Set(M().category3.items),D=new Set(M().category4.items);return e.difference(a).size===1||e.difference(N).size===1||e.difference(A).size===1||e.difference(D).size===1}function ee(e){let a=n;return a.category1.name===e?a.category1.items:a.category2.name===e?a.category2.items:a.category3.name===e?a.category3.items:a.category4.name===e?a.category4.items:[]}function O(e){return l(v).includes(e)}function W(){return g-l(d).length}function X(){return W()<=0}function q(){return l(x).length===4}function G(){return m+`
`+p+`
`+l(i).map(e=>e.map(a=>Ae(a)).join("")).join(`
`)}function Ae(e){let a=Re(e);return ke(a)}function ke(e){return e===n.category1.name?b:e===n.category2.name?S:e===n.category3.name?o:e===n.category4.name?T:""}function Re(e){let a=n;return a.category1.items.includes(e)?a.category1.name:a.category2.items.includes(e)?a.category2.name:a.category3.items.includes(e)?a.category3.name:a.category4.items.includes(e)?a.category4.name:""}at(()=>{console.log(c),V()});var te=Tt(),he=J(te),_e=C(J(he),2);_e.textContent=p;var ae=C(_e,4);ue(ae,21,()=>l(x),ie,(e,a)=>{var N=_t(),A=le(N),D=J(A);H(A);var U=C(A,2),j=J(U);Q(()=>fe(j,ee(l(a)).join(", "))),H(U),Q(()=>fe(D,l(a))),k(e,N)}),H(ae);var re=C(ae,2);ue(re,21,()=>l(w),ie,(e,a)=>{var N=gt();Q(()=>ut(N,`game-item ${(O(l(a))?"selected":"")??""}  svelte-4ff3hh`)),N.__click=[dt,L,a];var A=J(N);H(N),Q(()=>fe(A,l(a))),k(e,N)}),H(re);var de=C(re,2);Z(de,()=>l(I),e=>{var a=mt();k(e,a)});var ge=C(de,2);Z(ge,()=>l(f),e=>{var a=pt();k(e,a)});var me=C(ge,2);Z(me,q,e=>{var a=yt();k(e,a)},e=>{var a=Ye(),N=le(a);Z(N,X,A=>{var D=St();k(A,D)},A=>{var D=xt(),U=C(le(D),2);U.__click=[vt,I,f,K,P,i,v,M,E,x,w,d];var j=C(U,4);j.__click=$;var pe=C(j,4),ze=C(J(pe),2);ue(ze,17,()=>({length:W()}),ie,(De,It)=>{var He=bt();k(De,He)}),H(pe),Q(()=>U.disabled=l(v).length!==4),k(A,D)},!0),k(e,a)});var Me=C(me,2);Z(Me,()=>q()||X(),e=>{var a=wt();a.__click=[ht,G],k(e,a)}),H(he),H(te),k(s,te),tt()}rt(["click"]);export{Mt as component};
