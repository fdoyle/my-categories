import{a as I,t as R,c as ke}from"../chunks/disclose-version.CyRf2lPo.js";import{M as Re,m as Ae,v as k,C as O,D as Me,y as ze,l as Ye,K as me,R as $e,S as ce,B as j,w as V,F as De,T as he,n as ye,U as He,V as fe,N as ue,Q as d,W as Fe,X as Je,P as Le,Y as ve,Z as Ue,_ as Ve,J as Be,$ as Pe,q as We,z as Xe,p as qe,a0 as $,a as Ke,f as G,s as C,t as F,h as l,c as J,r as z}from"../chunks/runtime.DInAGWIT.js";import{s as W}from"../chunks/render.BtKvPGUE.js";import{p as h,o as Qe,i as B}from"../chunks/index-client.BTDfLTLe.js";import{d as Ze}from"../chunks/events.CUVRQDAO.js";import{s as Oe,a as je,p as Ge}from"../chunks/stores.BAK9iYw9.js";let ee=null;function _e(s,t){return t}function et(s,t,n,v){for(var S=[],y=t.length,f=0;f<y;f++)Ve(t[f].e,S,!0);var m=y>0&&S.length===0&&n!==null;if(m){var b=n.parentNode;Be(b),b.append(n),v.clear(),Y(s,t[0].prev,t[y-1].next)}Pe(S,()=>{for(var a=0;a<y;a++){var o=t[a];m||(v.delete(o.k),Y(s,o.prev,o.next)),We(o.e,!m)}})}function ge(s,t,n,v,S,y=null){var f=s,m={flags:t,items:new Map,first:null};{var b=s;f=k?O(ze(b)):b.appendChild(Re())}k&&Me();var a=null;Ae(()=>{var o=n(),i=Ye(o)?o:o==null?[]:me(o),_=i.length;let p=!1;if(k){var c=f.data===$e;c!==(_===0)&&(f=ce(),O(f),j(!1),p=!0)}if(k){for(var x=null,u,g=0;g<_;g++){if(V.nodeType===8&&V.data===De){f=V,p=!0,j(!1);break}var A=i[g],E=v(A,g);u=pe(V,m,x,null,A,E,g,S,t),m.items.set(E,u),x=u}_>0&&O(ce())}k||tt(i,m,f,S,t,v),y!==null&&(_===0?a?he(a):a=ye(()=>y(f)):a!==null&&He(a,()=>{a=null})),p&&j(!0)}),k&&(f=V)}function tt(s,t,n,v,S,y){var f=s.length,m=t.items,b=t.first,a=b,o,i=null,_=[],p=[],c,x,u,g;for(g=0;g<f;g+=1){if(c=s[g],x=y(c,g),u=m.get(x),u===void 0){var A=a?a.e.nodes_start:n;i=pe(A,t,i,i===null?t.first:i.next,c,x,g,v,S),m.set(x,i),_=[],p=[],a=i.next;continue}if(rt(u,c,g),u.e.f&fe&&he(u.e),u!==a){if(o!==void 0&&o.has(u)){if(_.length<p.length){var E=p[0],w;i=E.prev;var L=_[0],D=_[_.length-1];for(w=0;w<_.length;w+=1)de(_[w],E,n);for(w=0;w<p.length;w+=1)o.delete(p[w]);Y(t,L.prev,D.next),Y(t,i,L),Y(t,D,E),a=E,i=D,g-=1,_=[],p=[]}else o.delete(u),de(u,a,n),Y(t,u.prev,u.next),Y(t,u,i===null?t.first:i.next),Y(t,i,u),i=u;continue}for(_=[],p=[];a!==null&&a.k!==x;)a.e.f&fe||(o??(o=new Set)).add(a),p.push(a),a=a.next;if(a===null)continue;u=a}_.push(u),i=u,a=u.next}if(a!==null||o!==void 0){for(var U=o===void 0?[]:me(o);a!==null;)U.push(a),a=a.next;var X=U.length;if(X>0){var q=f===0?n:null;et(t,U,q,m)}}ue.first=t.first&&t.first.e,ue.last=i&&i.e}function rt(s,t,n,v){d(s.v,t),s.i=n}function pe(s,t,n,v,S,y,f,m,b){var a=ee;try{var o=(b&Fe)!==0,i=(b&Je)===0,_=o?i?Le(S):ve(S):S,p=b&Ue?ve(f):f,c={i:p,v:_,k:y,a:null,e:null,prev:n,next:v};return ee=c,c.e=ye(()=>m(s,_,p),k),c.e.prev=n&&n.e,c.e.next=v&&v.e,n===null?t.first=c:(n.next=c,n.e.next=c.e),v!==null&&(v.prev=c,v.e.prev=c.e),c}finally{ee=a}}function de(s,t,n){for(var v=s.next?s.next.e.nodes_start:n,S=t?t.e.nodes_start:n,y=s.e.nodes_start;y!==v;){var f=Xe(y);S.before(y),y=f}}function Y(s,t,n){t===null?s.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function at(s,t){var n=s.__className,v=nt(t);k&&s.className===v?s.__className=v:(n!==v||k&&s.className!==v)&&(t==null?s.removeAttribute("class"):s.className=v,s.__className=v)}function nt(s){return s??""}function st(s,t,n,v,S,y,f,m,b,a,o,i){if(d(t,!1),d(n,!1),v()){d(t,!0),S()&&d(n,!0);return}d(y,h([...l(y),l(f)]));let _=new Set(l(f)),p=new Set(m().category1.items),c=new Set(m().category2.items),x=new Set(m().category3.items),u=new Set(m().category4.items);b(_,p)?(d(a,h([...l(a),m().category1.name])),d(o,h(l(o).filter(g=>!p.has(g)))),d(f,h([]))):b(_,c)?(d(a,h([...l(a),m().category2.name])),d(o,h(l(o).filter(g=>!c.has(g)))),d(f,h([]))):b(_,x)?(d(a,h([...l(a),m().category3.name])),d(o,h(l(o).filter(g=>!x.has(g)))),d(f,h([]))):b(_,u)?(d(a,h([...l(a),m().category4.name])),d(o,h(l(o).filter(g=>!u.has(g)))),d(f,h([]))):(d(i,h([...l(i),l(f)])),S()&&d(n,!0))}function lt(s,t){let n=t();navigator.clipboard.writeText(n.toString())}var ot=R('<h3 class="svelte-15ec7lo"> </h3> <p class="svelte-15ec7lo"> </p>',1),it=(s,t,n)=>t(l(n)),ct=R("<button> </button>"),ft=R(`<p class="svelte-15ec7lo">You've already guessed this combination!</p>`),ut=R('<p class="svelte-15ec7lo">You are one away...</p>'),vt=R('<h1 class="svelte-15ec7lo">You won!</h1>'),_t=R('<h1 class="svelte-15ec7lo">You lost!</h1>'),gt=R('<br class="svelte-15ec7lo"> <button class="button svelte-15ec7lo">Submit</button> <br class="svelte-15ec7lo"> <button class="button svelte-15ec7lo">Shuffle</button> <p class="svelte-15ec7lo"> </p>',1),dt=R('<button class="button svelte-15ec7lo">Share</button>'),mt=R('<div class="root svelte-15ec7lo"><div class="container svelte-15ec7lo"><h1 class="svelte-15ec7lo">More Connections!</h1> <div class="correct-guesses svelte-15ec7lo"></div> <div class="game-board svelte-15ec7lo"></div> <!> <!> <!> <!></div></div>');function wt(s,t){qe(t,!0);const n=Oe(),v=()=>je(Ge,"$page",n);let S="Custom Connections!",y="ðŸŸ©",f="ðŸŸ¦",m="ðŸŸ¨",b="ðŸŸª",a=10,o=v().url.searchParams.get("game"),i=w(),_=$(h([])),p=$(h([])),c=$(h([])),x=$(h([])),u=$(h([])),g=$(!1),A=$(!1);function E(){let e=decodeURIComponent((o||"").toString());return atob(e).toString()}function w(){return JSON.parse(E().toString())}function L(){d(x,h(l(x).map(e=>({value:e,sort:Math.random()})).sort((e,r)=>e.sort-r.sort).map(({value:e})=>e)))}function D(e,r){return e.size===r.size&&[...e].every(T=>r.has(T))}function U(){let e=new Set(l(c));return l(_).some(r=>D(new Set(r),e))}function X(){let e=w();console.log(JSON.stringify(e,null,4)),d(x,h([...e.category1.items,...e.category2.items,...e.category3.items,...e.category4.items])),L()}function q(e){d(g,!1),d(A,!1),l(c).includes(e)?d(c,h(l(c).filter(r=>r!==e))):l(c).length<4&&d(c,h([...l(c),e]))}function Se(){let e=new Set(l(c)),r=new Set(w().category1.items),T=new Set(w().category2.items),N=new Set(w().category3.items),M=new Set(w().category4.items);return e.difference(r).size===1||e.difference(T).size===1||e.difference(N).size===1||e.difference(M).size===1}function be(e){let r=i;return r.category1.name===e?r.category1.items:r.category2.name===e?r.category2.items:r.category3.name===e?r.category3.items:r.category4.name===e?r.category4.items:[]}function xe(e){return l(c).includes(e)}function te(){return a-l(p).length}function re(){return te()<=0}function ae(){return l(u).length===4}function we(){return S+`
`+l(_).map(e=>e.map(r=>Te(r)).join("")).join(`
`)}function Te(e){let r=Ie(e);return Ne(r)}function Ne(e){return e===i.category1.name?m:e===i.category2.name?y:e===i.category3.name?f:e===i.category4.name?b:""}function Ie(e){let r=i;return r.category1.items.includes(e)?r.category1.name:r.category2.items.includes(e)?r.category2.name:r.category3.items.includes(e)?r.category3.name:r.category4.items.includes(e)?r.category4.name:""}Qe(()=>{console.log(o),X()});var K=mt(),ne=J(K),Q=C(J(ne),2);ge(Q,21,()=>l(u),_e,(e,r)=>{var T=ot(),N=G(T),M=J(N);z(N);var H=C(N,2),P=J(H);F(()=>W(P,be(l(r)).join(", "))),z(H),F(()=>W(M,l(r))),I(e,T)}),z(Q);var Z=C(Q,2);ge(Z,21,()=>l(x),_e,(e,r)=>{var T=ct();F(()=>at(T,`game-item ${(xe(l(r))?"selected":"")??""}  svelte-15ec7lo`)),T.__click=[it,q,r];var N=J(T);z(T),F(()=>W(N,l(r))),I(e,T)}),z(Z);var se=C(Z,2);B(se,()=>l(g),e=>{var r=ft();I(e,r)});var le=C(se,2);B(le,()=>l(A),e=>{var r=ut();I(e,r)});var oe=C(le,2);B(oe,ae,e=>{var r=vt();I(e,r)},e=>{var r=ke(),T=G(r);B(T,re,N=>{var M=_t();I(N,M)},N=>{var M=gt(),H=C(G(M),2);H.__click=[st,g,A,U,Se,_,c,w,D,u,x,p];var P=C(H,4);P.__click=L;var ie=C(P,2),Ee=J(ie);F(()=>W(Ee,`Remaining guesses: ${te()??""}`)),z(ie),F(()=>H.disabled=l(c).length!==4),I(N,M)},!0),I(e,r)});var Ce=C(oe,2);B(Ce,()=>ae()||re(),e=>{var r=dt();r.__click=[lt,we],I(e,r)}),z(ne),z(K),I(s,K),Ke()}Ze(["click"]);export{wt as component};
