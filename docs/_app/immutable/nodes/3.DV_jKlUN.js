import{a as C,t as z,c as Te}from"../chunks/disclose-version.CyRf2lPo.js";import{M as Ne,m as we,v as k,C as Z,D as Ie,y as ke,l as Ee,K as _e,R as Ce,S as se,B as O,w as L,F as Re,T as ge,n as de,U as Ae,V as oe,N as ie,Q as p,W as Me,X as ze,P as $e,Y as fe,Z as De,_ as He,J as Ye,$ as Fe,q as Je,z as Le,p as Ue,a0 as U,a as Ve,f as j,s as R,t as H,h as f,c as Y,r as A}from"../chunks/runtime.DInAGWIT.js";import{s as W}from"../chunks/render.BtKvPGUE.js";import{p as h,o as Be,i as G}from"../chunks/index-client.BTDfLTLe.js";import{d as Pe}from"../chunks/events.CUVRQDAO.js";import{s as We,a as Xe,p as qe}from"../chunks/stores.D_AhZv-C.js";let ee=null;function ue(l,e){return e}function Ke(l,e,r,s){for(var m=[],u=e.length,i=0;i<u;i++)He(e[i].e,m,!0);var y=u>0&&m.length===0&&r!==null;if(y){var S=r.parentNode;Ye(S),S.append(r),s.clear(),M(l,e[0].prev,e[u-1].next)}Fe(m,()=>{for(var n=0;n<u;n++){var v=e[n];y||(s.delete(v.k),M(l,v.prev,v.next)),Je(v.e,!y)}})}function ce(l,e,r,s,m,u=null){var i=l,y={flags:e,items:new Map,first:null};{var S=l;i=k?Z(ke(S)):S.appendChild(Ne())}k&&Ie();var n=null;we(()=>{var v=r(),o=Ee(v)?v:v==null?[]:_e(v),d=o.length;let _=!1;if(k){var c=i.data===Ce;c!==(d===0)&&(i=se(),Z(i),O(!1),_=!0)}if(k){for(var x=null,g,b=0;b<d;b++){if(L.nodeType===8&&L.data===Re){i=L,_=!0,O(!1);break}var E=o[b],N=s(E,b);g=he(L,y,x,null,E,N,b,m,e),y.items.set(N,g),x=g}d>0&&Z(se())}k||Qe(o,y,i,m,e,s),u!==null&&(d===0?n?ge(n):n=de(()=>u(i)):n!==null&&Ae(n,()=>{n=null})),_&&O(!0)}),k&&(i=L)}function Qe(l,e,r,s,m,u){var i=l.length,y=e.items,S=e.first,n=S,v,o=null,d=[],_=[],c,x,g,b;for(b=0;b<i;b+=1){if(c=l[b],x=u(c,b),g=y.get(x),g===void 0){var E=n?n.e.nodes_start:r;o=he(E,e,o,o===null?e.first:o.next,c,x,b,s,m),y.set(x,o),d=[],_=[],n=o.next;continue}if(Ze(g,c,b),g.e.f&oe&&ge(g.e),g!==n){if(v!==void 0&&v.has(g)){if(d.length<_.length){var N=_[0],w;o=N.prev;var V=d[0],F=d[d.length-1];for(w=0;w<d.length;w+=1)ve(d[w],N,r);for(w=0;w<_.length;w+=1)v.delete(_[w]);M(e,V.prev,F.next),M(e,o,V),M(e,F,N),n=N,o=F,b-=1,d=[],_=[]}else v.delete(g),ve(g,n,r),M(e,g.prev,g.next),M(e,g,o===null?e.first:o.next),M(e,o,g),o=g;continue}for(d=[],_=[];n!==null&&n.k!==x;)n.e.f&oe||(v??(v=new Set)).add(n),_.push(n),n=n.next;if(n===null)continue;g=n}d.push(g),o=g,n=g.next}if(n!==null||v!==void 0){for(var J=v===void 0?[]:_e(v);n!==null;)J.push(n),n=n.next;var X=J.length;if(X>0){var B=i===0?r:null;Ke(e,J,B,y)}}ie.first=e.first&&e.first.e,ie.last=o&&o.e}function Ze(l,e,r,s){p(l.v,e),l.i=r}function he(l,e,r,s,m,u,i,y,S){var n=ee;try{var v=(S&Me)!==0,o=(S&ze)===0,d=v?o?$e(m):fe(m):m,_=S&De?fe(i):i,c={i:_,v:d,k:u,a:null,e:null,prev:r,next:s};return ee=c,c.e=de(()=>y(l,d,_),k),c.e.prev=r&&r.e,c.e.next=s&&s.e,r===null?e.first=c:(r.next=c,r.e.next=c.e),s!==null&&(s.prev=c,s.e.prev=c.e),c}finally{ee=n}}function ve(l,e,r){for(var s=l.next?l.next.e.nodes_start:r,m=e?e.e.nodes_start:r,u=l.e.nodes_start;u!==s;){var i=Le(u);m.before(u),u=i}}function M(l,e,r){e===null?l.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Oe(l,e){var r=l.__className,s=je(e);k&&l.className===s?l.__className=s:(r!==s||k&&l.className!==s)&&(e==null?l.removeAttribute("class"):l.className=s,l.__className=s)}function je(l){return l??""}function Ge(l,e,r,s,m,u,i,y){p(e,h([...f(e),f(r)]));let S=new Set(f(r)),n=new Set(s().category1.items),v=new Set(s().category2.items),o=new Set(s().category3.items),d=new Set(s().category4.items);m(S,n)?(p(u,h([...f(u),s().category1.name])),p(i,h(f(i).filter(_=>!n.has(_)))),p(r,h([]))):m(S,v)?(p(u,h([...f(u),s().category2.name])),p(i,h(f(i).filter(_=>!v.has(_)))),p(r,h([]))):m(S,o)?(p(u,h([...f(u),s().category3.name])),p(i,h(f(i).filter(_=>!o.has(_)))),p(r,h([]))):m(S,d)?(p(u,h([...f(u),s().category4.name])),p(i,h(f(i).filter(_=>!d.has(_)))),p(r,h([]))):p(y,h([...f(y),f(r)]))}function et(l,e){let r=e();navigator.clipboard.writeText(r.toString())}var tt=z("<h3> </h3> <p> </p>",1),rt=(l,e,r)=>e(f(r)),at=z("<button> </button>"),nt=z("<h1>You won!</h1>"),lt=z("<h1>You lost!</h1>"),st=z("<br> <button>Submit</button> <br> <button>Shuffle</button> <p> </p>",1),ot=z("<button>Share</button>"),it=z('<div class="root svelte-1odvu8z"><div class="container svelte-1odvu8z"><h1>More Connections!</h1> <div class="correct-guesses"></div> <div class="game-board svelte-1odvu8z"></div> <!> <!></div></div>');function dt(l,e){Ue(e,!0);const r=We(),s=()=>Xe(qe,"$page",r);let m="Custom Connections!",u="ðŸŸ©",i="ðŸŸ¦",y="ðŸŸ¨",S="ðŸŸª",n=10,v=s().url.searchParams.get("game"),o=E(),d=U(h([])),_=U(h([])),c=U(h([])),x=U(h([])),g=U(h([]));function b(){let t=decodeURIComponent((v||"").toString());return atob(t).toString()}function E(){return JSON.parse(b().toString())}function N(){p(x,h(f(x).map(t=>({value:t,sort:Math.random()})).sort((t,a)=>t.sort-a.sort).map(({value:t})=>t)))}function w(t,a){return t.size===a.size&&[...t].every(T=>a.has(T))}function V(){let t=E();console.log(JSON.stringify(t,null,4)),p(x,h([...t.category1.items,...t.category2.items,...t.category3.items,...t.category4.items])),N()}function F(t){console.log("clicked",t),f(c).includes(t)?p(c,h(f(c).filter(a=>a!==t))):f(c).length<4&&p(c,h([...f(c),t]))}function J(t){let a=o;return a.category1.name===t?a.category1.items:a.category2.name===t?a.category2.items:a.category3.name===t?a.category3.items:a.category4.name===t?a.category4.items:[]}function X(t){return f(c).includes(t)}function B(){return n-f(_).length}function te(){return B()<=0}function re(){return f(g).length===4}function me(){return m+`
`+f(d).map(t=>t.map(a=>pe(a)).join("")).join(`
`)}function pe(t){let a=Se(t);return ye(a)}function ye(t){return t===o.category1.name?u:t===o.category2.name?i:t===o.category3.name?y:t===o.category4.name?S:""}function Se(t){let a=o;return a.category1.items.includes(t)?a.category1.name:a.category2.items.includes(t)?a.category2.name:a.category3.items.includes(t)?a.category3.name:a.category4.items.includes(t)?a.category4.name:""}Be(()=>{console.log(v),V()});var q=it(),ae=Y(q),K=R(Y(ae),2);ce(K,21,()=>f(g),ue,(t,a)=>{var T=tt(),I=j(T),$=Y(I);A(I);var D=R(I,2),P=Y(D);H(()=>W(P,J(f(a)).join())),A(D),H(()=>W($,f(a))),C(t,T)}),A(K);var Q=R(K,2);ce(Q,21,()=>f(x),ue,(t,a)=>{var T=at();H(()=>Oe(T,`game-item ${(X(f(a))?"selected":"")??""}  svelte-1odvu8z`)),T.__click=[rt,F,a];var I=Y(T);A(T),H(()=>W(I,f(a))),C(t,T)}),A(Q);var ne=R(Q,2);G(ne,re,t=>{var a=nt();C(t,a)},t=>{var a=Te(),T=j(a);G(T,te,I=>{var $=lt();C(I,$)},I=>{var $=st(),D=R(j($),2);D.__click=[Ge,d,c,E,w,g,x,_];var P=R(D,4);P.__click=N;var le=R(P,2),xe=Y(le);H(()=>W(xe,`Remaining guesses: ${B()??""}`)),A(le),H(()=>D.disabled=f(c).length!==4),C(I,$)},!0),C(t,a)});var be=R(ne,2);G(be,()=>re()||te(),t=>{var a=ot();a.__click=[et,me],C(t,a)}),A(ae),A(q),C(l,q),Ve()}Pe(["click"]);export{dt as component};
