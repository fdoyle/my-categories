import{a as A,t as R,c as Je}from"../chunks/disclose-version.B-NrCprE.js";import{F as Ue,V as Ve,I as M,w as ne,x as We,W as Ee,n as Xe,l as qe,D as Ie,X as Pe,Y as ke,v as se,y as X,z as Qe,Z as Te,G as Ne,_ as Ze,$ as be,a0 as Ke,J as ze,a1 as fe,R as _,a2 as ce,a3 as Oe,Q as Ge,a4 as xe,a5 as je,C as et,a6 as tt,a7 as rt,a8 as at,o as nt,p as st,a9 as F,a as lt,s as I,f as we,t as V,h as l,c as L,r as B}from"../chunks/runtime.D20-AFer.js";import{s as le}from"../chunks/render.DOdWLg4C.js";import{p,o as it,i as q}from"../chunks/index-client.hwuTiFY9.js";import{s as ot}from"../chunks/attributes.4OTvnoCJ.js";import{d as ut}from"../chunks/events.D_kuFx-Q.js";import{s as ft,a as ct,p as vt}from"../chunks/stores.BAeu0qc2.js";let ie=null;function oe(s,t){return t}function _t(s,t,a,u){for(var h=[],y=t.length,o=0;o<y;o++)je(t[o].e,h,!0);var S=y>0&&h.length===0&&a!==null;if(S){var z=a.parentNode;et(z),z.append(a),u.clear(),$(s,t[0].prev,t[y-1].next)}tt(h,()=>{for(var m=0;m<y;m++){var g=t[m];S||(u.delete(g.k),$(s,g.prev,g.next)),rt(g.e,!S)}})}function ue(s,t,a,u,h,y=null){var o=s,S={flags:t,items:new Map,first:null},z=(t&Ee)!==0;if(z){var m=s;o=M?ne(Xe(m)):m.appendChild(Ue())}M&&We();var g=null;Ve(()=>{var i=a(),k=qe(i)?i:i==null?[]:Ie(i),c=k.length;let d=!1;if(M){var v=o.data===Pe;v!==(c===0)&&(o=ke(),ne(o),se(!1),d=!0)}if(M){for(var x=null,b,w=0;w<c;w++){if(X.nodeType===8&&X.data===Qe){o=X,d=!0,se(!1);break}var n=k[w],f=u(n,w);b=Ae(X,S,x,null,n,f,w,h,t),S.items.set(f,b),x=b}c>0&&ne(ke())}M||gt(k,S,o,h,t,u),y!==null&&(c===0?g?Te(g):g=Ne(()=>y(o)):g!==null&&Ze(g,()=>{g=null})),d&&se(!0)}),M&&(o=X)}function gt(s,t,a,u,h,y){var Q,Z,K,O;var o=(h&at)!==0,S=(h&(fe|ce))!==0,z=s.length,m=t.items,g=t.first,i=g,k,c=null,d,v=[],x=[],b,w,n,f;if(o)for(f=0;f<z;f+=1)b=s[f],w=y(b,f),n=m.get(w),n!==void 0&&((Q=n.a)==null||Q.measure(),(d??(d=new Set)).add(n));for(f=0;f<z;f+=1){if(b=s[f],w=y(b,f),n=m.get(w),n===void 0){var W=i?i.e.nodes_start:a;c=Ae(W,t,c,c===null?t.first:c.next,b,w,f,u,h),m.set(w,c),v=[],x=[],i=c.next;continue}if(S&&dt(n,b,f,h),n.e.f&be&&(Te(n.e),o&&((Z=n.a)==null||Z.unfix(),(d??(d=new Set)).delete(n))),n!==i){if(k!==void 0&&k.has(n)){if(v.length<x.length){var D=x[0],E;c=D.prev;var P=v[0],T=v[v.length-1];for(E=0;E<v.length;E+=1)Ce(v[E],D,a);for(E=0;E<x.length;E+=1)k.delete(x[E]);$(t,P.prev,T.next),$(t,c,P),$(t,T,D),i=D,c=T,f-=1,v=[],x=[]}else k.delete(n),Ce(n,i,a),$(t,n.prev,n.next),$(t,n,c===null?t.first:c.next),$(t,c,n),c=n;continue}for(v=[],x=[];i!==null&&i.k!==w;)i.e.f&be||(k??(k=new Set)).add(i),x.push(i),i=i.next;if(i===null)continue;n=i}v.push(n),c=n,i=n.next}if(i!==null||k!==void 0){for(var H=k===void 0?[]:Ie(k);i!==null;)H.push(i),i=i.next;var J=H.length;if(J>0){var ee=h&Ee&&z===0?a:null;if(o){for(f=0;f<J;f+=1)(K=H[f].a)==null||K.measure();for(f=0;f<J;f+=1)(O=H[f].a)==null||O.fix()}_t(t,H,ee,m)}}o&&Ke(()=>{var G;if(d!==void 0)for(n of d)(G=n.a)==null||G.apply()}),ze.first=t.first&&t.first.e,ze.last=c&&c.e}function dt(s,t,a,u){u&fe&&_(s.v,t),u&ce?_(s.i,a):s.i=a}function Ae(s,t,a,u,h,y,o,S,z){var m=ie;try{var g=(z&fe)!==0,i=(z&Oe)===0,k=g?i?Ge(h):xe(h):h,c=z&ce?xe(o):o,d={i:c,v:k,k:y,a:null,e:null,prev:a,next:u};return ie=d,d.e=Ne(()=>S(s,k,c),M),d.e.prev=a&&a.e,d.e.next=u&&u.e,a===null?t.first=d:(a.next=d,a.e.next=d.e),u!==null&&(u.prev=d,u.e.prev=d.e),d}finally{ie=m}}function Ce(s,t,a){for(var u=s.next?s.next.e.nodes_start:a,h=t?t.e.nodes_start:a,y=s.e.nodes_start;y!==u;){var o=nt(y);h.before(y),y=o}}function $(s,t,a){t===null?s.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function mt(s,t){var a=s.__className,u=ht(t);M&&s.className===u?s.__className=u:(a!==u||M&&s.className!==u)&&(t==null?s.removeAttribute("class"):s.className=u,s.__className=u)}function ht(s){return s??""}function pt(s,t,a,u,h,y,o,S,z,m,g,i){if(_(t,!1),_(a,!1),u()){_(t,!0),h()&&_(a,!0);return}_(y,p([...l(y),l(o)]));let k=new Set(l(o)),c=new Set(S().category1.items),d=new Set(S().category2.items),v=new Set(S().category3.items),x=new Set(S().category4.items);z(k,c)?(_(m,p([...l(m),S().category1.name])),_(g,p(l(g).filter(b=>!c.has(b)))),_(o,p([]))):z(k,d)?(_(m,p([...l(m),S().category2.name])),_(g,p(l(g).filter(b=>!d.has(b)))),_(o,p([]))):z(k,v)?(_(m,p([...l(m),S().category3.name])),_(g,p(l(g).filter(b=>!v.has(b)))),_(o,p([]))):z(k,x)?(_(m,p([...l(m),S().category4.name])),_(g,p(l(g).filter(b=>!x.has(b)))),_(o,p([]))):(_(i,p([...l(i),l(o)])),h()&&_(a,!0))}function yt(s,t){let a=t();navigator.clipboard.writeText(a.toString())}var St=R('<div class="correct-guess svelte-14nz9ki"><h3 class="correct-guess-category svelte-14nz9ki"> </h3> <p class="correct-guess-answers svelte-14nz9ki"> </p></div>'),kt=(s,t,a)=>t(l(a)),bt=R("<button> </button>"),zt=R(`<p class="svelte-14nz9ki">You've already guessed this combination!</p>`),xt=R('<p class="svelte-14nz9ki">You are one away...</p>'),wt=R('<h1 class="svelte-14nz9ki">You won!</h1>'),Ct=R('<h1 class="svelte-14nz9ki">You lost!</h1>'),Et=R('<div class="guess-dot svelte-14nz9ki"></div>'),It=R('<br class="svelte-14nz9ki"> <button class="button svelte-14nz9ki">Submit</button> <br class="svelte-14nz9ki"> <button class="button svelte-14nz9ki">Shuffle</button> <br class="svelte-14nz9ki"> <div class="remaining-guess-count-container svelte-14nz9ki"><p class="svelte-14nz9ki">Remaining guesses:</p> <!></div>',1),Tt=R('<button class="button svelte-14nz9ki">Share</button>'),Nt=R('<div class="root svelte-14nz9ki"><div class="container svelte-14nz9ki"><h2 class="svelte-14nz9ki">More Connections!</h2> <h1 class="svelte-14nz9ki"></h1> <br class="svelte-14nz9ki"> <div class="correct-guesses svelte-14nz9ki"></div> <div class="game-board svelte-14nz9ki"></div> <!> <!> <!> <!></div></div>');function Ft(s,t){st(t,!0);const a=ft(),u=()=>ct(vt,"$page",a);let h="Custom Connections!",y="ðŸŸ©",o="ðŸŸ¦",S="ðŸŸ¨",z="ðŸŸª",m="#A7C268",g="#F5E07E",i="#B4C3EB",k="#B283C1",c=10,d=u().url.searchParams.get("game"),v=T(),x=v.title||"Untitled",b=F(p([])),w=F(p([])),n=F(p([])),f=F(p([])),W=F(p([])),D=F(!1),E=F(!1);function P(){let e=decodeURIComponent((d||"").toString());return atob(e).toString()}function T(){return JSON.parse(P().toString())}function H(){_(f,p(l(f).map(e=>({value:e,sort:Math.random()})).sort((e,r)=>e.sort-r.sort).map(({value:e})=>e)))}function J(e,r){return e.size===r.size&&[...e].every(C=>r.has(C))}function ee(){let e=new Set(l(n));return l(b).some(r=>J(new Set(r),e))}function Q(){let e=T();console.log(JSON.stringify(e,null,4)),_(f,p([...e.category1.items,...e.category2.items,...e.category3.items,...e.category4.items])),H()}function Z(e){_(D,!1),_(E,!1),l(n).includes(e)?_(n,p(l(n).filter(r=>r!==e))):l(n).length<4&&_(n,p([...l(n),e]))}function K(){let e=new Set(l(n)),r=new Set(T().category1.items),C=new Set(T().category2.items),N=new Set(T().category3.items),Y=new Set(T().category4.items);return e.difference(r).size===1||e.difference(C).size===1||e.difference(N).size===1||e.difference(Y).size===1}function O(e){let r=v;return r.category1.name===e?r.category1.items:r.category2.name===e?r.category2.items:r.category3.name===e?r.category3.items:r.category4.name===e?r.category4.items:[]}function G(e){return l(n).includes(e)}function ve(){return c-l(w).length}function _e(){return ve()<=0}function ge(){return l(W).length===4}function Re(){return h+`
`+x+`
`+l(b).map(e=>e.map(r=>Be(r)).join("")).join(`
`)}function Be(e){let r=He(e);return Me(r)}function Me(e){return e===v.category1.name?S:e===v.category2.name?y:e===v.category3.name?o:e===v.category4.name?z:""}function De(e){return e===v.category1.name?g:e===v.category2.name?m:e===v.category3.name?i:e===v.category4.name?k:"#f0f0f0"}function He(e){let r=v;return r.category1.items.includes(e)?r.category1.name:r.category2.items.includes(e)?r.category2.name:r.category3.items.includes(e)?r.category3.name:r.category4.items.includes(e)?r.category4.name:""}it(()=>{console.log(d),Q()});var te=Nt(),de=L(te),me=I(L(de),2);me.textContent=x;var re=I(me,4);ue(re,21,()=>l(W),oe,(e,r)=>{var C=St();V(()=>ot(C,"style",`background-color: ${De(l(r))??""}`));var N=L(C),Y=L(N);B(N);var U=I(N,2),j=L(U);V(()=>le(j,O(l(r)).join(", "))),B(U),B(C),V(()=>le(Y,l(r))),A(e,C)}),B(re);var ae=I(re,2);ue(ae,21,()=>l(f),oe,(e,r)=>{var C=bt();V(()=>mt(C,`game-item ${(G(l(r))?"selected":"")??""}  svelte-14nz9ki`)),C.__click=[kt,Z,r];var N=L(C);B(C),V(()=>le(N,l(r))),A(e,C)}),B(ae);var he=I(ae,2);q(he,()=>l(D),e=>{var r=zt();A(e,r)});var pe=I(he,2);q(pe,()=>l(E),e=>{var r=xt();A(e,r)});var ye=I(pe,2);q(ye,ge,e=>{var r=wt();A(e,r)},e=>{var r=Je(),C=we(r);q(C,_e,N=>{var Y=Ct();A(N,Y)},N=>{var Y=It(),U=I(we(Y),2);U.__click=[pt,D,E,ee,K,b,n,T,J,W,f,w];var j=I(U,4);j.__click=H;var Se=I(j,4),$e=I(L(Se),2);ue($e,17,()=>({length:ve()}),oe,(Fe,At)=>{var Le=Et();A(Fe,Le)}),B(Se),V(()=>U.disabled=l(n).length!==4),A(N,Y)},!0),A(e,r)});var Ye=I(ye,2);q(Ye,()=>ge()||_e(),e=>{var r=Tt();r.__click=[yt,Re],A(e,r)}),B(de),B(te),A(s,te),lt()}ut(["click"]);export{Ft as component};
