import{a as E,t as j,c as je}from"../chunks/disclose-version.CKFsFc0v.js";import{F as Re,O as Ae,I as k,w as K,x as Me,n as Ye,l as $e,D as me,P as De,Q as ue,v as O,y as L,z as He,R as ye,G as pe,S as Fe,T as fe,J as ve,N as g,U as Ue,V as Je,M as Le,W as _e,X as Ve,Y as Pe,C as We,Z as Xe,_ as Be,o as Qe,p as Ze,$,a as qe,s as N,f as G,t as U,h as l,c as J,r as M}from"../chunks/runtime.C-JL9AE_.js";import{s as W}from"../chunks/render.d2NEFkgd.js";import{p as y,o as Ke,i as V}from"../chunks/index-client.CLnQM6i_.js";import{d as Oe}from"../chunks/events.Egb-Lb1-.js";import{s as Ge,a as et,p as tt}from"../chunks/stores.CyiqAJzB.js";let ee=null;function ge(s,t){return t}function rt(s,t,n,f){for(var b=[],S=t.length,u=0;u<S;u++)Pe(t[u].e,b,!0);var d=S>0&&b.length===0&&n!==null;if(d){var z=n.parentNode;We(z),z.append(n),f.clear(),Y(s,t[0].prev,t[S-1].next)}Xe(b,()=>{for(var a=0;a<S;a++){var i=t[a];d||(f.delete(i.k),Y(s,i.prev,i.next)),Be(i.e,!d)}})}function de(s,t,n,f,b,S=null){var u=s,d={flags:t,items:new Map,first:null};{var z=s;u=k?K(Ye(z)):z.appendChild(Re())}k&&Me();var a=null;Ae(()=>{var i=n(),o=$e(i)?i:i==null?[]:me(i),v=o.length;let p=!1;if(k){var h=u.data===De;h!==(v===0)&&(u=ue(),K(u),O(!1),p=!0)}if(k){for(var m=null,c,_=0;_<v;_++){if(L.nodeType===8&&L.data===He){u=L,p=!0,O(!1);break}var R=o[_],w=f(R,_);c=Se(L,d,m,null,R,w,_,b,t),d.items.set(w,c),m=c}v>0&&K(ue())}k||at(o,d,u,b,t,f),S!==null&&(v===0?a?ye(a):a=pe(()=>S(u)):a!==null&&Fe(a,()=>{a=null})),p&&O(!0)}),k&&(u=L)}function at(s,t,n,f,b,S){var u=s.length,d=t.items,z=t.first,a=z,i,o=null,v=[],p=[],h,m,c,_;for(_=0;_<u;_+=1){if(h=s[_],m=S(h,_),c=d.get(m),c===void 0){var R=a?a.e.nodes_start:n;o=Se(R,t,o,o===null?t.first:o.next,h,m,_,f,b),d.set(m,o),v=[],p=[],a=o.next;continue}if(nt(c,h,_),c.e.f&fe&&ye(c.e),c!==a){if(i!==void 0&&i.has(c)){if(v.length<p.length){var w=p[0],I;o=w.prev;var C=v[0],D=v[v.length-1];for(I=0;I<v.length;I+=1)he(v[I],w,n);for(I=0;I<p.length;I+=1)i.delete(p[I]);Y(t,C.prev,D.next),Y(t,o,C),Y(t,D,w),a=w,o=D,_-=1,v=[],p=[]}else i.delete(c),he(c,a,n),Y(t,c.prev,c.next),Y(t,c,o===null?t.first:o.next),Y(t,o,c),o=c;continue}for(v=[],p=[];a!==null&&a.k!==m;)a.e.f&fe||(i??(i=new Set)).add(a),p.push(a),a=a.next;if(a===null)continue;c=a}v.push(c),o=c,a=c.next}if(a!==null||i!==void 0){for(var H=i===void 0?[]:me(i);a!==null;)H.push(a),a=a.next;var X=H.length;if(X>0){var B=u===0?n:null;rt(t,H,B,d)}}ve.first=t.first&&t.first.e,ve.last=o&&o.e}function nt(s,t,n,f){g(s.v,t),s.i=n}function Se(s,t,n,f,b,S,u,d,z){var a=ee;try{var i=(z&Ue)!==0,o=(z&Je)===0,v=i?o?Le(b):_e(b):b,p=z&Ve?_e(u):u,h={i:p,v,k:S,a:null,e:null,prev:n,next:f};return ee=h,h.e=pe(()=>d(s,v,p),k),h.e.prev=n&&n.e,h.e.next=f&&f.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),f!==null&&(f.prev=h,f.e.prev=h.e),h}finally{ee=a}}function he(s,t,n){for(var f=s.next?s.next.e.nodes_start:n,b=t?t.e.nodes_start:n,S=s.e.nodes_start;S!==f;){var u=Qe(S);b.before(S),S=u}}function Y(s,t,n){t===null?s.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function st(s,t){var n=s.__className,f=lt(t);k&&s.className===f?s.__className=f:(n!==f||k&&s.className!==f)&&(t==null?s.removeAttribute("class"):s.className=f,s.__className=f)}function lt(s){return s??""}function ot(s,t,n,f,b,S,u,d,z,a,i,o){if(g(t,!1),g(n,!1),f()){g(t,!0),b()&&g(n,!0);return}g(S,y([...l(S),l(u)]));let v=new Set(l(u)),p=new Set(d().category1.items),h=new Set(d().category2.items),m=new Set(d().category3.items),c=new Set(d().category4.items);z(v,p)?(g(a,y([...l(a),d().category1.name])),g(i,y(l(i).filter(_=>!p.has(_)))),g(u,y([]))):z(v,h)?(g(a,y([...l(a),d().category2.name])),g(i,y(l(i).filter(_=>!h.has(_)))),g(u,y([]))):z(v,m)?(g(a,y([...l(a),d().category3.name])),g(i,y(l(i).filter(_=>!m.has(_)))),g(u,y([]))):z(v,c)?(g(a,y([...l(a),d().category4.name])),g(i,y(l(i).filter(_=>!c.has(_)))),g(u,y([]))):(g(o,y([...l(o),l(u)])),b()&&g(n,!0))}function it(s,t){let n=t();navigator.clipboard.writeText(n.toString())}var ct=j('<h3 class="svelte-1ucnz4j"> </h3> <p class="svelte-1ucnz4j"> </p>',1),ut=(s,t,n)=>t(l(n)),ft=j("<button> </button>"),vt=j(`<p class="svelte-1ucnz4j">You've already guessed this combination!</p>`),_t=j('<p class="svelte-1ucnz4j">You are one away...</p>'),gt=j('<h1 class="svelte-1ucnz4j">You won!</h1>'),dt=j('<h1 class="svelte-1ucnz4j">You lost!</h1>'),ht=j('<br class="svelte-1ucnz4j"> <button class="button svelte-1ucnz4j">Submit</button> <br class="svelte-1ucnz4j"> <button class="button svelte-1ucnz4j">Shuffle</button> <p class="svelte-1ucnz4j"> </p>',1),mt=j('<button class="button svelte-1ucnz4j">Share</button>'),yt=j('<div class="root svelte-1ucnz4j"><div class="container svelte-1ucnz4j"><h2 class="svelte-1ucnz4j">More Connections!</h2> <h1 class="svelte-1ucnz4j"></h1> <br class="svelte-1ucnz4j"> <div class="correct-guesses svelte-1ucnz4j"></div> <div class="game-board svelte-1ucnz4j"></div> <!> <!> <!> <!></div></div>');function Tt(s,t){Ze(t,!0);const n=Ge(),f=()=>et(tt,"$page",n);let b="Custom Connections!",S="ðŸŸ©",u="ðŸŸ¦",d="ðŸŸ¨",z="ðŸŸª",a=10,i=f().url.searchParams.get("game"),o=C(),v=o.title||"Untitled",p=$(y([])),h=$(y([])),m=$(y([])),c=$(y([])),_=$(y([])),R=$(!1),w=$(!1);function I(){let e=decodeURIComponent((i||"").toString());return atob(e).toString()}function C(){return JSON.parse(I().toString())}function D(){g(c,y(l(c).map(e=>({value:e,sort:Math.random()})).sort((e,r)=>e.sort-r.sort).map(({value:e})=>e)))}function H(e,r){return e.size===r.size&&[...e].every(x=>r.has(x))}function X(){let e=new Set(l(m));return l(p).some(r=>H(new Set(r),e))}function B(){let e=C();console.log(JSON.stringify(e,null,4)),g(c,y([...e.category1.items,...e.category2.items,...e.category3.items,...e.category4.items])),D()}function be(e){g(R,!1),g(w,!1),l(m).includes(e)?g(m,y(l(m).filter(r=>r!==e))):l(m).length<4&&g(m,y([...l(m),e]))}function ze(){let e=new Set(l(m)),r=new Set(C().category1.items),x=new Set(C().category2.items),T=new Set(C().category3.items),A=new Set(C().category4.items);return e.difference(r).size===1||e.difference(x).size===1||e.difference(T).size===1||e.difference(A).size===1}function xe(e){let r=o;return r.category1.name===e?r.category1.items:r.category2.name===e?r.category2.items:r.category3.name===e?r.category3.items:r.category4.name===e?r.category4.items:[]}function we(e){return l(m).includes(e)}function te(){return a-l(h).length}function re(){return te()<=0}function ae(){return l(_).length===4}function Te(){return b+`
`+v+`
`+l(p).map(e=>e.map(r=>Ne(r)).join("")).join(`
`)}function Ne(e){let r=Ce(e);return Ie(r)}function Ie(e){return e===o.category1.name?d:e===o.category2.name?S:e===o.category3.name?u:e===o.category4.name?z:""}function Ce(e){let r=o;return r.category1.items.includes(e)?r.category1.name:r.category2.items.includes(e)?r.category2.name:r.category3.items.includes(e)?r.category3.name:r.category4.items.includes(e)?r.category4.name:""}Ke(()=>{console.log(i),B()});var Q=yt(),ne=J(Q),se=N(J(ne),2);se.textContent=v;var Z=N(se,4);de(Z,21,()=>l(_),ge,(e,r)=>{var x=ct(),T=G(x),A=J(T);M(T);var F=N(T,2),P=J(F);U(()=>W(P,xe(l(r)).join(", "))),M(F),U(()=>W(A,l(r))),E(e,x)}),M(Z);var q=N(Z,2);de(q,21,()=>l(c),ge,(e,r)=>{var x=ft();U(()=>st(x,`game-item ${(we(l(r))?"selected":"")??""}  svelte-1ucnz4j`)),x.__click=[ut,be,r];var T=J(x);M(x),U(()=>W(T,l(r))),E(e,x)}),M(q);var le=N(q,2);V(le,()=>l(R),e=>{var r=vt();E(e,r)});var oe=N(le,2);V(oe,()=>l(w),e=>{var r=_t();E(e,r)});var ie=N(oe,2);V(ie,ae,e=>{var r=gt();E(e,r)},e=>{var r=je(),x=G(r);V(x,re,T=>{var A=dt();E(T,A)},T=>{var A=ht(),F=N(G(A),2);F.__click=[ot,R,w,X,ze,p,m,C,H,_,c,h];var P=N(F,4);P.__click=D;var ce=N(P,2),ke=J(ce);U(()=>W(ke,`Remaining guesses: ${te()??""}`)),M(ce),U(()=>F.disabled=l(m).length!==4),E(T,A)},!0),E(e,r)});var Ee=N(ie,2);V(Ee,()=>ae()||re(),e=>{var r=mt();r.__click=[it,Te],E(e,r)}),M(ne),M(Q),E(s,Q),qe()}Oe(["click"]);export{Tt as component};
