import{a as k,t as z,c as me}from"../chunks/disclose-version.DrqLgsy6.js";import{M as ye,m as Se,R as ue,v as C,C as O,D as xe,y as Ne,l as be,K as ce,S as Ee,T as le,B as j,w as W,F as Te,U as _e,n as de,V as we,W as oe,X as Ie,N as ie,Y as re,Q as x,Z as ne,_ as Ae,P as ke,$ as fe,a0 as Re,J as Me,a1 as Ce,q as ze,a2 as De,z as He,p as $e,a3 as X,a as Le,f as G,h as v,t as F,c as Y,s as J,r as M}from"../chunks/runtime.CYuBARcl.js";import{s as B}from"../chunks/render.DGtDBWun.js";import{p as g,o as Ye,i as Z}from"../chunks/index-client.xqCyz3X0.js";import{d as Je}from"../chunks/events.BZuoxORW.js";import{s as Ue,a as Ve,p as Fe}from"../chunks/stores.DnK_Glnm.js";let ee=null;function ae(t,e){return e}function Pe(t,e,a,r){for(var d=[],u=e.length,o=0;o<u;o++)Re(e[o].e,d,!0);var N=u>0&&d.length===0&&a!==null;if(N){var m=a.parentNode;Me(m),m.append(a),r.clear(),$(t,e[0].prev,e[u-1].next)}Ce(d,()=>{for(var c=0;c<u;c++){var h=e[c];N||(r.delete(h.k),$(t,h.prev,h.next)),ze(h.e,!N)}})}function te(t,e,a,r,d,u=null){var o=t,N={flags:e,items:new Map,first:null},m=(e&ue)!==0;if(m){var c=t;o=C?O(Ne(c)):c.appendChild(ye())}C&&xe();var h=null;Se(()=>{var l=a(),y=be(l)?l:l==null?[]:ce(l),s=y.length;let p=!1;if(C){var E=o.data===Ee;E!==(s===0)&&(o=le(),O(o),j(!1),p=!0)}if(C){for(var w=null,I,b=0;b<s;b++){if(W.nodeType===8&&W.data===Te){o=W,p=!0,j(!1);break}var f=y[b],_=r(f,b);I=he(W,N,w,null,f,_,b,d,e),N.items.set(_,I),w=I}s>0&&O(le())}C||We(y,N,o,d,e,r),u!==null&&(s===0?h?_e(h):h=de(()=>u(o)):h!==null&&we(h,()=>{h=null})),p&&j(!0)}),C&&(o=W)}function We(t,e,a,r,d,u){var n,i,S,T;var o=(d&De)!==0,N=(d&(re|ne))!==0,m=t.length,c=e.items,h=e.first,l=h,y,s=null,p,E=[],w=[],I,b,f,_;if(o)for(_=0;_<m;_+=1)I=t[_],b=u(I,_),f=c.get(b),f!==void 0&&((n=f.a)==null||n.measure(),(p??(p=new Set)).add(f));for(_=0;_<m;_+=1){if(I=t[_],b=u(I,_),f=c.get(b),f===void 0){var K=l?l.e.nodes_start:a;s=he(K,e,s,s===null?e.first:s.next,I,b,_,r,d),c.set(b,s),E=[],w=[],l=s.next;continue}if(N&&Xe(f,I,_,d),f.e.f&oe&&(_e(f.e),o&&((i=f.a)==null||i.unfix(),(p??(p=new Set)).delete(f))),f!==l){if(y!==void 0&&y.has(f)){if(E.length<w.length){var D=w[0],A;s=D.prev;var U=E[0],L=E[E.length-1];for(A=0;A<E.length;A+=1)ve(E[A],D,a);for(A=0;A<w.length;A+=1)y.delete(w[A]);$(e,U.prev,L.next),$(e,s,U),$(e,L,D),l=D,s=L,_-=1,E=[],w=[]}else y.delete(f),ve(f,l,a),$(e,f.prev,f.next),$(e,f,s===null?e.first:s.next),$(e,s,f),s=f;continue}for(E=[],w=[];l!==null&&l.k!==b;)l.e.f&oe||(y??(y=new Set)).add(l),w.push(l),l=l.next;if(l===null)continue;f=l}E.push(f),s=f,l=f.next}if(l!==null||y!==void 0){for(var H=y===void 0?[]:ce(y);l!==null;)H.push(l),l=l.next;var V=H.length;if(V>0){var q=d&ue&&m===0?a:null;if(o){for(_=0;_<V;_+=1)(S=H[_].a)==null||S.measure();for(_=0;_<V;_+=1)(T=H[_].a)==null||T.fix()}Pe(e,H,q,c)}}o&&Ie(()=>{var R;if(p!==void 0)for(f of p)(R=f.a)==null||R.apply()}),ie.first=e.first&&e.first.e,ie.last=s&&s.e}function Xe(t,e,a,r){r&re&&x(t.v,e),r&ne?x(t.i,a):t.i=a}function he(t,e,a,r,d,u,o,N,m){var c=ee;try{var h=(m&re)!==0,l=(m&Ae)===0,y=h?l?ke(d):fe(d):d,s=m&ne?fe(o):o,p={i:s,v:y,k:u,a:null,e:null,prev:a,next:r};return ee=p,p.e=de(()=>N(t,y,s),C),p.e.prev=a&&a.e,p.e.next=r&&r.e,a===null?e.first=p:(a.next=p,a.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{ee=c}}function ve(t,e,a){for(var r=t.next?t.next.e.nodes_start:a,d=e?e.e.nodes_start:a,u=t.e.nodes_start;u!==r;){var o=He(u);d.before(u),u=o}}function $(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Be(t,e){var a=t.__className,r=Ke(e);C&&t.className===r?t.__className=r:(a!==r||C&&t.className!==r)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function Ke(t){return t??""}function Qe(t,e,a,r,d,u,o,N){x(e,g([...v(e),v(a)]));let m=new Set(v(a)),c=new Set(r().category1.items),h=new Set(r().category2.items),l=new Set(r().category3.items),y=new Set(r().category4.items);d(m,c)?(x(u,g([...v(u),r().category1.name])),x(o,g(v(o).filter(s=>!c.has(s)))),x(a,g([]))):d(m,h)?(x(u,g([...v(u),r().category2.name])),x(o,g(v(o).filter(s=>!h.has(s)))),x(a,g([]))):d(m,l)?(x(u,g([...v(u),r().category3.name])),x(o,g(v(o).filter(s=>!l.has(s)))),x(a,g([]))):d(m,y)?(x(u,g([...v(u),r().category4.name])),x(o,g(v(o).filter(s=>!y.has(s)))),x(a,g([]))):x(N,g([...v(N),v(a)]))}function Ze(){let t=["this","doesn't","work","yet","sorry"].join(`
`);navigator.clipboard.writeText(t)}var qe=z("<h3> </h3> <p> </p>",1),Oe=(t,e,a)=>e(v(a)),je=z("<button> </button>"),Ge=z("<p> </p>"),ea=z("<h1>You won!</h1>"),aa=z("<h1>You lost!</h1>"),ta=z("<button>Submit</button>"),ra=z("<!> <p> </p>",1),na=z("<button>Share</button>"),sa=z('<div class="root svelte-1odvu8z"><div class="container svelte-1odvu8z"><h1>More Connections!</h1> <div class="correct-guesses"></div> <div class="game-board svelte-1odvu8z"></div> <!> <!> <!></div></div>');function ca(t,e){$e(e,!0);const a=Ue(),r=()=>Ve(Fe,"$page",a);let d=10,u=r().url.searchParams.get("game"),o=s(),N=X(g([])),m=X(g([])),c=X(g([])),h=X(g([])),l=X(g([]));function y(){let n=decodeURIComponent((u||"").toString());return atob(n).toString()}function s(){return JSON.parse(y().toString())}function p(n,i){return n.size===i.size&&[...n].every(S=>i.has(S))}function E(){let n=s();console.log(JSON.stringify(n,null,4)),x(h,g([...n.category1.items,...n.category2.items,...n.category3.items,...n.category4.items]))}function w(n){console.log("clicked",n),v(c).includes(n)?x(c,g(v(c).filter(i=>i!==n))):v(c).length<4&&x(c,g([...v(c),n]))}function I(n){let i=o;return i.category1.name===n?i.category1.items:i.category2.name===n?i.category2.items:i.category3.name===n?i.category3.items:i.category4.name===n?i.category4.items:[]}function b(n){return v(c).includes(n)}function f(){return d-v(m).length}function _(){return f()<=0}function K(){return v(l).length===4}Ye(()=>{console.log(u),E()});var D=sa(),A=Y(D),U=J(Y(A),2);te(U,21,()=>v(l),ae,(n,i)=>{var S=qe(),T=G(S),R=Y(T);M(T);var P=J(T,2),Q=Y(P);F(()=>B(Q,I(v(i)).join())),M(P),F(()=>B(R,v(i))),k(n,S)}),M(U);var L=J(U,2);te(L,21,()=>v(h),ae,(n,i)=>{var S=je();F(()=>Be(S,`game-item ${(b(v(i))?"selected":"")??""}  svelte-1odvu8z`)),S.__click=[Oe,w,i];var T=Y(S);M(S),F(()=>B(T,v(i))),k(n,S)}),M(L);var H=J(L,2);te(H,17,()=>v(c),ae,(n,i)=>{var S=Ge(),T=Y(S);M(S),F(()=>B(T,v(i))),k(n,S)});var V=J(H,2);Z(V,K,n=>{var i=ea();k(n,i)},n=>{var i=me(),S=G(i);Z(S,_,T=>{var R=aa();k(T,R)},T=>{var R=ra(),P=G(R);Z(P,()=>v(c).length===4,pe=>{var se=ta();se.__click=[Qe,N,c,s,p,l,h,m],k(pe,se)});var Q=J(P,2),ge=Y(Q);F(()=>B(ge,`Remaining guesses: ${f()??""}`)),M(Q),k(T,R)},!0),k(n,i)});var q=J(V,2);Z(q,()=>K()||_(),n=>{var i=na();i.__click=[Ze],k(n,i)}),M(A),M(D),k(t,D),Le()}Je(["click"]);export{ca as component};
